(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const L of o.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&d(L)}).observe(document,{childList:!0,subtree:!0});function p(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(e){if(e.ep)return;e.ep=!0;const o=p(e);fetch(e.href,o)}})();const _=document.querySelector(".burger"),q=document.querySelector(".sidebar-menu-overlay"),E=document.querySelector(".sidebar-menu-content"),T=document.querySelector("html");T&&q&&E&&_&&_.addEventListener("click",()=>{_.classList.toggle("active"),q.classList.toggle("sidebar-menu-overlay--active"),E.classList.toggle("sidebar-menu-content--active"),T.classList.toggle("disabled-scroll")});function M(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function j(t){return t.trim()!==""}async function $(t){let a=await fetch(t.url,{method:t.method,headers:{"Content-Type":"application/json"}});return a=a.json(),a}function O(){c.classList.remove("form__validate-active"),m.classList.remove("form__validate-active"),v.classList.remove("form__validate-active"),s.classList.remove("form__validate-active-success"),s.classList.remove("form__validate-active"),r.value="",n.value="",l.value=""}function F(){h.classList.remove("modal__content-active"),O()}function w(){h.classList.add("modal__content-active")}function B(){f.classList.add("modal__active"),g.classList.add("disabled-scroll")}function y(){O(),F(),I(),f.classList.remove("modal__active"),g.classList.remove("disabled-scroll")}function I(){b.classList.remove("modal__popup-active")}function D(){b.classList.add("modal__popup-active")}function S(){s.innerText="Ошибка при отправке",s.classList.add("validate-active"),i.value="SUBMIT"}const f=document.querySelector('div[data-js-modal="modal"]'),h=document.querySelector('div[data-js-modal-content="modal-content"]'),b=document.querySelector('div[data-js-modal-popup="modal-popup"]'),u=document.querySelector('form[data-js="form"]'),x=document.querySelector('div[data-js-cross-form="cross-form"]'),N=document.querySelector('div[data-js-cross-popup="cross-popup"]'),i=document.querySelector('input[data-js-form-submit="form-submit"]'),P=document.querySelector('button[data-js-footer-btn="footer-btn"]'),r=document.querySelector('input[data-js-input-name="input-name"]'),n=document.querySelector('input[data-js-input-email="input-email"]'),l=document.querySelector('textarea[data-js-input-text="input-text"]'),c=document.querySelector(`span[data-form=${n.id}]`),m=document.querySelector(`span[data-form=${r.id}]`),v=document.querySelector(`span[data-form=${l.id}]`),s=document.querySelector(`span[data-form=${i.id}]`),g=document.querySelector("html");f&&b&&h&&u&&x&&N&&i&&P&&r&&n&&l&&c&&m&&v&&s&&g&&(P.addEventListener("click",function(t){B(),w()}),x.addEventListener("click",function(t){y()}),N.addEventListener("click",function(t){y()}),f.addEventListener("click",function(t){console.log(t,"!!!"),t.target===f&&y()}),u.addEventListener("submit",function(t){t.preventDefault(),c.classList.remove("form__validate-active"),c.classList.remove("form__validate-active-success"),i.value="SENDING...",n.addEventListener("input",()=>{c.classList.remove("form__validate-active")}),r.addEventListener("input",()=>{m.classList.remove("form__validate-active")}),l.addEventListener("input",()=>{v.classList.remove("form__validate-active")});const a=M(n.value),p=j(r.value),d=j(l.value);if(a&&p&&d){let e=u==null?void 0:u.dataset.jsForm;e=JSON.parse(e);try{e.method==="POST"||e.method==="GET"?$(e).then(o=>{i.value="SUBMIT",s.innerText="Данные отправлены",s.classList.add("form__validate-active-success"),setTimeout(()=>{s.classList.remove("form__validate-active-success"),r.value="",n.value="",l.value="",F(),D()},500)}).catch(o=>{S()}):S()}catch{S()}}else a||(c.innerText="Неверно введённый email",c.classList.add("form__validate-active")),p||(m.innerText="Пустое имя",m.classList.add("form__validate-active")),d||(v.innerText="Пустое поле",v.classList.add("form__validate-active")),i.value="SUBMIT"}));
